<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Oijee! Andmeteadus - 30&nbsp; Tekstikaeve</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./maakaardid.html" rel="next">
<link href="./faktoranalüüs.html" rel="prev">
<link href="./logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Tulemusi ei ole",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Tekstikaeve</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./" class="sidebar-logo-link">
      <img src="./logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Oijee! Andmeteadus</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Saateks</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Põhimõisted</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./andmeteadus.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Andmed ja andmeteadus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mlaibd.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Masinõpe ja suurandmed</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./analüüs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Andmete analüüs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tarkvara.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Tarkvara andmetöötluseks</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">R keel</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./kasutus.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Põhikasutus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./korrastus.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Korrastus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./joonised.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Joonised</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Statistika</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tunnused.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Tunnuste liigid</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./valim.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Valim ja kogum</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./valikunihe.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Valikunihe</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./taasvalik.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Taasvalik</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seosed.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Seosed</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./põhjuslikkus.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Põhjuslikkus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tinglikkus.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Tinglikkus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./klassifitseerimine.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Klassifitseerimine</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./kaugus.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Statistiline kaugus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./klasterdamine.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Klasterdamine</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mõõtmevähendus.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Mõõtmevähendus</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Rakendused</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./korrelatsioon.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Korrelatsioon</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./seosereeglid.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Seosereeglid</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./usaldusvahemikud.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Usaldusvahemikud</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./linreg.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Lineaarne regressioon</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./logreg.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Logistiline regressioon</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./otsusepuu.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Otsusepuu</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lähinaabrid.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Lähinaabrid</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./hierarhiline.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Hierarhiline klasterdamine</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./kkeskmised.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">K-keskmised</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./peakomponendid.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Peakomponentide analüüs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./faktoranalüüs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Faktoranalüüs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tekstikaeve.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Tekstikaeve</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maakaardid.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Maakaardid</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./viited.html" class="sidebar-item-text sidebar-link">Viited</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sisukord</h2>
   
  <ul>
  <li><a href="#korpus" id="toc-korpus" class="nav-link active" data-scroll-target="#korpus"><span class="toc-section-number">30.1</span>  Korpus</a></li>
  <li><a href="#sõnestamine" id="toc-sõnestamine" class="nav-link" data-scroll-target="#sõnestamine"><span class="toc-section-number">30.2</span>  Sõnestamine</a></li>
  <li><a href="#maatriksid" id="toc-maatriksid" class="nav-link" data-scroll-target="#maatriksid"><span class="toc-section-number">30.3</span>  Maatriksid</a></li>
  <li><a href="#sõnade-sagedused" id="toc-sõnade-sagedused" class="nav-link" data-scroll-target="#sõnade-sagedused"><span class="toc-section-number">30.4</span>  Sõnade sagedused</a></li>
  <li><a href="#sõnasus" id="toc-sõnasus" class="nav-link" data-scroll-target="#sõnasus"><span class="toc-section-number">30.5</span>  Sõnasus</a></li>
  <li><a href="#tf-idf" id="toc-tf-idf" class="nav-link" data-scroll-target="#tf-idf"><span class="toc-section-number">30.6</span>  TF-IDF</a></li>
  <li><a href="#sõnade-võrgustik" id="toc-sõnade-võrgustik" class="nav-link" data-scroll-target="#sõnade-võrgustik"><span class="toc-section-number">30.7</span>  Sõnade võrgustik</a></li>
  <li><a href="#klasterdamine" id="toc-klasterdamine" class="nav-link" data-scroll-target="#klasterdamine"><span class="toc-section-number">30.8</span>  Klasterdamine</a></li>
  <li><a href="#keelekasutus" id="toc-keelekasutus" class="nav-link" data-scroll-target="#keelekasutus"><span class="toc-section-number">30.9</span>  Keelekasutus</a></li>
  <li><a href="#teemad" id="toc-teemad" class="nav-link" data-scroll-target="#teemad"><span class="toc-section-number">30.10</span>  Teemad</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-tekstikaeve" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Tekstikaeve</span></span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>Andmed ei ole alati hoiustatud analüüsimiseks mugavates tabelites. Sageli on tulenevalt teabe olemusest palju loomulikum esitada andmed mõnel muul kujul. Üks näide sellest on teksti sisaldavad dokumendid. <strong>Dokumentideks</strong> võime selles tähenduses pidada ükskõik mis pikkusega tekste, alates sotsiaalmeedia sõnumitest ja lõpetades ilukirjanduslike teostega. Kuigi harjumuspärane ja loomulik on analüüsida dokumente neid lihtsalt lugedes, ei anna see nendest sageli piisavalt ülevaatlikku arusaamist. Nii on see eriti suurel arvul mahukate dokumentide korral. Tekstina esitatud teabe saab teisendada aga arvudeks, mis võimaldab läheneda teksti sisule kvantitatiivselt. Selleks on välja mõeldud mitmesuguseid protseduure ja neile vastavaid tööriistu, mille kasutamist nimetatakse andmeteadustes tekstikaeveks.</p>
<div class="callout-important callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Mõiste
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Testikaeve</strong> (<em>text mining</em>) seisneb dokumentide kvantitatiivses analüüsimises, mille käigus kirjeldatakse dokumente, tuvastatakse nendest teemad või leitakse seosed sõnade ja dokumentide vahel. Vastavad protseduurid põhinevad peamiselt sõnade või ka sõnapaaride esinemisel: sagedus, asukoht teiste sõnade suhtes ja esinemine dokumentides.</p>
</div>
</div>
<p>Teksti kvantitatiivne uurimine võimaldab muuhulgas täita alljärgnevaid ülesandeid:</p>
<ul>
<li>tekstis esinevate teemade tuvastamine,</li>
<li>seoste otsimine tekstis esinevate sõnade ja väljendite vahel,</li>
<li>dokumentide klassifitseerimine ette antud klassidesse,</li>
<li>dokumentide klastritesse jaotamine,</li>
<li>teksti sisu näitlikustamine joonistel,</li>
<li>dokumendist kokkuvõtete tegemine.</li>
</ul>
<p>Seega saame tekstikaevet kasutades vastata nt alljärgnevatele küsimustele:</p>
<ol type="1">
<li>Mis on dokumendis sagedamini esinevad sõnad ja teemad?</li>
<li>Mille poolest üks teatud dokument erineb teistest?</li>
<li>Mis seosed esinevad dokumendis kasutatud väljendite vahel?</li>
</ol>
<p>Järgnevalt uurime teksikaeve meetodite rakendamist 2007. ja 2011. aasta Eesti erakondade valimisprogrammide näitel.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'magrittr'</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>failid <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="st">'andmed/cmp'</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>, <span class="at">pattern =</span> <span class="st">'.pdf$'</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>failid</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "andmed/cmp/irl_2007.pdf"            "andmed/cmp/irl_2011.pdf"           
 [3] "andmed/cmp/keskerakond_2007.pdf"    "andmed/cmp/keskerakond_2011.pdf"   
 [5] "andmed/cmp/rahvaliit_2007.pdf"      "andmed/cmp/rahvaliit_2011.pdf"     
 [7] "andmed/cmp/reformierakond_2007.pdf" "andmed/cmp/reformierakond_2011.pdf"
 [9] "andmed/cmp/rohelised_2007.pdf"      "andmed/cmp/rohelised_2011.pdf"     
[11] "andmed/cmp/sde_2007.pdf"            "andmed/cmp/sde_2011.pdf"           </code></pre>
</div>
</div>
<p>Paljud dokumendid on kättesaadavaks tehtud .pdf vormingus dokumentidena. Selliste tekstide R keele objekti sisestamiseks saame kasutada funktsiooni <code>pdf_text()</code> laiendusest <code>pdftools</code>. Kasutades seda omakorda funktsioonis <code>sapply()</code>, saame mitu <code>.pdf</code> vormingus faili sisestada R töölauale vektorina, milles iga element on üks dokument</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'pdftools'</span>)</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Using poppler version 22.11.0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>dokumendid <span class="ot">&lt;-</span> <span class="fu">sapply</span>(failid, pdf_text) <span class="sc">%&gt;%</span> <span class="fu">sapply</span>(paste, <span class="at">collapse =</span> <span class="st">' '</span>)</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Teksti uurimiseks R keeles on loodud mitu laiendust, millest igaühel on oma lähenemine sellele, mis kujul tekste objektides hoiustada ja milliseid arvutusi tekstidega teha. Järgnevalt kasutame <code>quanteda</code> laienduste kogumikku, kuigi ära märkimist väärivad ka tekstikaeve jaoks mõeldud laiendused <code>tm</code> ja <code>tidytext</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'quanteda'</span>)</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Package version: 3.2.3
Unicode version: 15.0
ICU version: 72.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Parallel computing: 8 of 8 threads used.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>See https://quanteda.io for tutorials and examples.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'quanteda.textstats'</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'quanteda.textplots'</span>)</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="korpus" class="level2" data-number="30.1">
<h2 data-number="30.1" class="anchored" data-anchor-id="korpus"><span class="header-section-number">30.1</span> Korpus</h2>
<p>Uuritavat dokumenti või ka mitme sellise dokumendi kogumit nimetatakse <strong>korpuseks</strong> (<em>corpus</em>). Laienduse quanteda funktsioonide kasutamiseks tuleks dokumente sisaldava vektor eelnevalt korpusena vormistatud objektiks teisendada funktsiooniga <code>corpus()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>korpus <span class="ot">&lt;-</span> <span class="fu">corpus</span>(dokumendid)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>korpus</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Corpus consisting of 12 documents.
andmed/cmp/irl_2007.pdf :
"Terve pere – Terve mõistus – Terve Eesti Isamaa ja Res Publi..."

andmed/cmp/irl_2011.pdf :
"Esileht » IRL-i programm 2011-2015 IRL-i programm 2011-2015 ..."

andmed/cmp/keskerakond_2007.pdf :
"                                                            ..."

andmed/cmp/keskerakond_2011.pdf :
"           Vastu võetud Eesti Keskerakonna volikogu istungil..."

andmed/cmp/rahvaliit_2007.pdf :
"ERL     valimisplatvorm                             2007.aas..."

andmed/cmp/rahvaliit_2011.pdf :
"EESTIMAIST LEIBA JA TÖÖD! EESTIMAA RAHVALIIDU PLATVORM 2011...."

[ reached max_ndoc ... 6 more documents ]</code></pre>
</div>
</div>
<p>Korpuses olevatele dokumentidele võime määrata hilisemaks analüüsimiseks dokumentide nimed, aga ka muud tunnused. Antud juhul võikisme määrata igale dokumendile erakonna nimetuse ja aastaarvu.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Täpsustame dokumentide nimetused</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>erakonnad <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'irl'</span>, <span class="st">'kesk'</span>, <span class="st">'rahvaliit'</span>, <span class="st">'reform'</span>, <span class="st">'rohe'</span>, <span class="st">'sde'</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(korpus) <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">rep</span>(erakonnad, <span class="at">each =</span> <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">2007</span>, <span class="dv">2011</span>))</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(korpus)</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "irl 2007"       "irl 2011"       "kesk 2007"      "kesk 2011"     
 [5] "rahvaliit 2007" "rahvaliit 2011" "reform 2007"    "reform 2011"   
 [9] "rohe 2007"      "rohe 2011"      "sde 2007"       "sde 2011"      </code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Määrame dokumentidele erakonna tunnuse</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>korpus<span class="sc">$</span>erakond <span class="ot">&lt;-</span> <span class="fu">rep</span>(erakonnad, <span class="at">each =</span> <span class="dv">2</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>korpus<span class="sc">$</span>erakond</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "irl"       "irl"       "kesk"      "kesk"      "rahvaliit" "rahvaliit"
 [7] "reform"    "reform"    "rohe"      "rohe"      "sde"       "sde"      </code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Määrame dokumentidele aasta tunnuse</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>korpus<span class="sc">$</span>aasta <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2007</span>, <span class="dv">2011</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>korpus<span class="sc">$</span>aasta</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2007 2011 2007 2011 2007 2011 2007 2011 2007 2011 2007 2011</code></pre>
</div>
</div>
</section>
<section id="sõnestamine" class="level2 page-columns page-full" data-number="30.2">
<h2 data-number="30.2" class="anchored" data-anchor-id="sõnestamine"><span class="header-section-number">30.2</span> Sõnestamine</h2>
<p>Paljude teksti kvantitaiivse analüüsimise protseduurid põhinevad sõnade sagedustel. Tihti on aga sõna liiga kitsas mõiste uuritava üksuse kirjeldamiseks, mistõttu on tekstikaeves analüüsi ühikuks tegelikult sõne (<em>token</em>). Sõne võib sisaldda ka rohkem kui ühte üksteisele piisavalt sagedasti järgnevat sõna. Sõnede uurimiseks tuleb esmalt korpuses esinevad dokumendid teisendada sõnede loeteludeks. Seda tegevust võib nimetada sõnestamiseks (<em>tokenization</em>). Sõnestada saame funktsiooniga <code>tokens()</code>, mille rakendamisel võime dokumentidest ühtlasi eemaldada ka kirjavahemärgid, sümbolid, arvud ja tühikud.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>sõned <span class="ot">&lt;-</span> <span class="fu">tokens</span>(korpus, </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">remove_punct =</span> <span class="cn">TRUE</span>, </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">remove_symbols =</span> <span class="cn">TRUE</span>, </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">remove_numbers =</span> <span class="cn">TRUE</span>)</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Kuna suupärasem on rääkida sõnede asemel siiski sõnadest, siis edaspidi peame mõiste “sõna” all silmas tegelikult sõnesid.</p>
<p>Et mitte eristada sõnu suur- ja väiketähtede alusel, võiksime muuta kõik suurtähend väiketähtedeks.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>sõned <span class="sc">%&lt;&gt;%</span> tokens_tolower</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>sõned</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Tokens consisting of 12 documents and 2 docvars.
irl 2007 :
 [1] "terve"              "pere"               "terve"             
 [4] "mõistus"            "terve"              "eesti"             
 [7] "isamaa"             "ja"                 "res"               
[10] "publica"            "liidu"              "valitsemisprogramm"
[ ... and 6,584 more ]

irl 2011 :
 [1] "esileht"            "irl-i"              "programm"          
 [4] "2011-2015"          "irl-i"              "programm"          
 [7] "2011-2015"          "irl-i"              "sammu"             
[10] "eestile"            "valitsemisprogramm" "2011-2015"         
[ ... and 4,966 more ]

kesk 2007 :
 [1] "vastu"           "võetud"          "eesti"           "keskerakonna"   
 [5] "volikogu"        "istungil"        "jaanuaril"       "a"              
 [9] "tallimas"        "eesti"           "keskerakonna"    "valimisplatvorm"
[ ... and 4,369 more ]

kesk 2011 :
 [1] "vastu"           "võetud"          "eesti"           "keskerakonna"   
 [5] "volikogu"        "istungil"        "jaanuar"         "eesti"          
 [9] "inimkeskseks"    "eesti"           "keskerakonna"    "valimisplatvorm"
[ ... and 4,804 more ]

rahvaliit 2007 :
 [1] "erl"             "valimisplatvorm" "aasta"           "riigikogu"      
 [5] "valimistel"      "võrdsete"        "võimaluste"      "eesti"          
 [9] "rahvaliidu"      "platvorm"        "aasta"           "riigikogu"      
[ ... and 1,695 more ]

rahvaliit 2011 :
 [1] "eestimaist"    "leiba"         "ja"            "tööd"         
 [5] "eestimaa"      "rahvaliidu"    "platvorm"      "aasta"        
 [9] "riigikogu"     "valimisteks"   "presidendi"    "otsevalimised"
[ ... and 2,952 more ]

[ reached max_ndoc ... 6 more documents ]</code></pre>
</div>
</div>
<p>Lisaks eelnevale võime eemaldada ka sõnad, milles on alla 2 tähemärgi.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>sõned <span class="sc">%&lt;&gt;%</span> <span class="fu">tokens_select</span>(<span class="at">min_nchar =</span> <span class="dv">2</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>sõned</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Tokens consisting of 12 documents and 2 docvars.
irl 2007 :
 [1] "terve"              "pere"               "terve"             
 [4] "mõistus"            "terve"              "eesti"             
 [7] "isamaa"             "ja"                 "res"               
[10] "publica"            "liidu"              "valitsemisprogramm"
[ ... and 6,580 more ]

irl 2011 :
 [1] "esileht"            "irl-i"              "programm"          
 [4] "2011-2015"          "irl-i"              "programm"          
 [7] "2011-2015"          "irl-i"              "sammu"             
[10] "eestile"            "valitsemisprogramm" "2011-2015"         
[ ... and 4,966 more ]

kesk 2007 :
 [1] "vastu"           "võetud"          "eesti"           "keskerakonna"   
 [5] "volikogu"        "istungil"        "jaanuaril"       "tallimas"       
 [9] "eesti"           "keskerakonna"    "valimisplatvorm" "riigikogu"      
[ ... and 4,319 more ]

kesk 2011 :
 [1] "vastu"           "võetud"          "eesti"           "keskerakonna"   
 [5] "volikogu"        "istungil"        "jaanuar"         "eesti"          
 [9] "inimkeskseks"    "eesti"           "keskerakonna"    "valimisplatvorm"
[ ... and 4,787 more ]

rahvaliit 2007 :
 [1] "erl"             "valimisplatvorm" "aasta"           "riigikogu"      
 [5] "valimistel"      "võrdsete"        "võimaluste"      "eesti"          
 [9] "rahvaliidu"      "platvorm"        "aasta"           "riigikogu"      
[ ... and 1,676 more ]

rahvaliit 2011 :
 [1] "eestimaist"    "leiba"         "ja"            "tööd"         
 [5] "eestimaa"      "rahvaliidu"    "platvorm"      "aasta"        
 [9] "riigikogu"     "valimisteks"   "presidendi"    "otsevalimised"
[ ... and 2,949 more ]

[ reached max_ndoc ... 6 more documents ]</code></pre>
</div>
</div>
<div class="page-columns page-full"><p>Paljud tekstis sageli esinevad sõnad ei ole sisulised ega võimalda dokumenti temaatiliselt iseloomustada ega teistest tekstidest eristada. Sellised sõnad on nt sidesõnad ja asesõnad. Dokumentide analüüsimisel on need sõnad müra, mis raskendavad mustrite ja seoste leidmist. Tekstikaeves nimetatakse taolisi sõnu stoppsõnadeks (<em>stopwords</em>). Stoppsõnad saame sõnedest eemaldada funktsiooniga <code>tokens_remove()</code>. Inglisekeelsete stoppsõnad saame eemaldada argumendiga <code>pattern = stopwords('en')</code>. Eesti keele stoppsõnu aga vastavas funktsioonis ei ole, mistõttu peame need käsitsi arvutisse laadima<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, R töölauale sisestama ja seejärel vastava funktsiooni argumendina määrama.</p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;Eesti keele stoppsõnad on alla laetavad <a href="https://datadoi.ee/handle/33/78">Tartu Ülikooli raamatukogust</a>.</p></li></div></div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>stoppsõnad <span class="ot">&lt;-</span> <span class="fu">readLines</span>(<span class="st">'andmed/stoppsõnad.txt'</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>sõned <span class="sc">%&lt;&gt;%</span> <span class="fu">tokens_remove</span>(stoppsõnad)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>sõned</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Tokens consisting of 12 documents and 2 docvars.
irl 2007 :
 [1] "terve"              "pere"               "terve"             
 [4] "mõistus"            "terve"              "eesti"             
 [7] "isamaa"             "res"                "publica"           
[10] "liidu"              "valitsemisprogramm" "eesti"             
[ ... and 4,936 more ]

irl 2011 :
 [1] "esileht"            "irl-i"              "programm"          
 [4] "2011-2015"          "irl-i"              "programm"          
 [7] "2011-2015"          "irl-i"              "sammu"             
[10] "eestile"            "valitsemisprogramm" "2011-2015"         
[ ... and 3,654 more ]

kesk 2007 :
 [1] "võetud"          "eesti"           "keskerakonna"    "volikogu"       
 [5] "istungil"        "jaanuaril"       "tallimas"        "eesti"          
 [9] "keskerakonna"    "valimisplatvorm" "riigikogu"       "xi"             
[ ... and 3,477 more ]

kesk 2011 :
 [1] "võetud"          "eesti"           "keskerakonna"    "volikogu"       
 [5] "istungil"        "jaanuar"         "eesti"           "inimkeskseks"   
 [9] "eesti"           "keskerakonna"    "valimisplatvorm" "riigikogu"      
[ ... and 3,656 more ]

rahvaliit 2007 :
 [1] "erl"             "valimisplatvorm" "aasta"           "riigikogu"      
 [5] "valimistel"      "võrdsete"        "võimaluste"      "eesti"          
 [9] "rahvaliidu"      "platvorm"        "aasta"           "riigikogu"      
[ ... and 1,346 more ]

rahvaliit 2011 :
 [1] "eestimaist"    "leiba"         "tööd"          "eestimaa"     
 [5] "rahvaliidu"    "platvorm"      "aasta"         "riigikogu"    
 [9] "valimisteks"   "presidendi"    "otsevalimised" "riigikogu"    
[ ... and 2,264 more ]

[ reached max_ndoc ... 6 more documents ]</code></pre>
</div>
</div>
<div class="page-columns page-full"><p>Üks ja sama sõna võib esineda mitmel erineval kujul, nt ainsuses ja mitmuses, eessõnadega ja eessõnadeta. Tegusõnadel on paljudes keeltes pöörded. Eesti keeles esinevad nimisõnad veel ka erinevates käänetes. Enne sõnede analüüsimist need seetõttu algvormistatakse (<em>lemmatizing</em>) ehk sõnad asendatakse nende algvormidega (lemmadega). Ingliskeelsete sõnede puhul saame kasutada funktsiooni <code>tokens_wordstem()</code>. Eestikeelsete sõnade algvormid koos kõikvõimalike vormidega ei ole paraku avalikult leitavad, mistõttu uuritavat korpust me algvormistada ei saa<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p><div class="no-row-height column-margin column-container"><li id="fn2"><p><sup>2</sup>&nbsp;Vajadusel saab dokumendid enne R töölauale sisestamist lemmatiseerida <a href="https://tekstianalyys.utlib.ut.ee/lemmatiseerimine.html">Tartu Ülikooli poolt pakutava lemmatiseerijaga</a>.</p></li></div></div>
<p>Võiksime arvesse võtta ka asjaolu, et teatud nähtused esitatakse rohkem kui ühe sõnana. Rohkem kui ühest sõnast koosnevad väljendid on <strong>sõnaühendid</strong> (<em>collocations</em>, <em>n-grams</em>). Dokumentides esinevate sõnade järjestuse alusel saame sõnaühendid leida funktsiooniga <code>textstat_collocations()</code>, milles saame määrata mh leitavate sõnaühendite väikseima sageduse (<code>min_count = 20</code>) ja vähina sõnade arvu, mille ühendeid otsime (<code>size = 2</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>sõnaühendid <span class="ot">&lt;-</span> <span class="fu">textstat_collocations</span>(sõned, <span class="at">min_count =</span> <span class="dv">20</span>, <span class="at">size =</span> <span class="dv">2</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>sõnaühendid</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              collocation count count_nested length   lambda         z
1           euroopa liidu   122            0      2 8.171880 27.294803
2  kohalike omavalitsuste    44            0      2 7.699716 26.527861
3   kohaliku omavalitsuse    44            0      2 8.257028 24.637050
4         aasta riigikogu    25            0      2 6.770979 22.076934
5        seame eesmärgiks    25            0      2 7.152438 21.286044
6             eesti keele    84            0      2 5.579262 20.066599
7          keele kultuuri    21            0      2 5.513494 19.951902
8    riigikogu valimistel    20            0      2 7.892776 19.758598
9       puuetega inimeste    22            0      2 5.970079 19.396205
10        avaliku sektori    22            0      2 7.642845 19.224620
11            eesti rahva    23            0      2 2.801869 11.562169
12            eesti riigi    26            0      2 1.410214  6.879928
13         euroopa liidus    25            0      2 9.358612  6.546668
14          toetame eesti    20            0      2 1.009869  4.402414</code></pre>
</div>
</div>
<p>Funktsioon <code>tokens_compound()</code> asendab korpuses eraldi sõnandena esinevad sõnad neile vastavate sõnaühenditega.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>sõned <span class="ot">&lt;-</span> <span class="fu">tokens_compound</span>(sõned, sõnaühendid)</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="maatriksid" class="level2" data-number="30.3">
<h2 data-number="30.3" class="anchored" data-anchor-id="maatriksid"><span class="header-section-number">30.3</span> Maatriksid</h2>
<p>Sõnestatud korpuse alusel saame küll lihtsasti leida nt sõnade sagedused, aga huvitavamad mustrid ilmnevad sõnade ja dokumentide vaheliste seoste uurimisel. Selleks on vajalik korpus teisendada sageduste maatriksiks. Sellistes maatriksites nimetatkse sõnau sageli hoopis <strong>terminiteks</strong> (<em>term</em>). Nii võib eristada teistest ka harva esinevaid termineid (<em>sparse terms</em>), mis moodustavad tavaliselt suurema osa kõikidest terminitest.</p>
<p><strong>Dokumendi-termini maatriksis</strong> (<em>document-feature matrix</em>) on ridades dokumendid ja veergudes kõik korpuses esinevad terminid. Lahtrites on seega vähemalt vaikimisi iga termini esinemissagedus igas dokumendis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>dokMat <span class="ot">&lt;-</span> <span class="fu">dfm</span>(sõned)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>dokMat</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Document-feature matrix of: 12 documents, 18,498 features (84.91% sparse) and 2 docvars.
                features
docs             terve pere mõistus eesti isamaa res publica liidu
  irl 2007          16    7       3   110      2   2       2     3
  irl 2011           1    2       0    74      7   7       7     4
  kesk 2007          1    3       0    48      0   0       0     0
  kesk 2011          1    2       0    80      1   1       1     3
  rahvaliit 2007     0    0       0    36      0   0       0     0
  rahvaliit 2011     0    2       0    29      0   0       0     0
                features
docs             valitsemisprogramm valitsusele
  irl 2007                        1           1
  irl 2011                        1           0
  kesk 2007                       0           0
  kesk 2011                       0           0
  rahvaliit 2007                  0           0
  rahvaliit 2011                  0           0
[ reached max_ndoc ... 6 more documents, reached max_nfeat ... 18,488 more features ]</code></pre>
</div>
</div>
<p><strong>Terminite maatriksis</strong> (<em>feature co-occurrence matrix</em>) on ridades ja ka veergudes terminid. Lahtrites on nende terminite koos esinemised. Dokumentide uurimisel saame otsida sõnade koos esinemisi kas</p>
<ul>
<li>sõnade vahel lähtudes nende lähedusest või</li>
<li>mitme dokumendi vahel sõnade koos esinemise alusel.</li>
</ul>
<p>Sealjuures on esimene lähenemine sobilikum üksikute pikkade dokumentide korral, viimane eeldab aga palju dokumente.</p>
<p>Kasutades argumente <code>context = 'document', window = 5</code>, loendame kui mitu korda esineb iga sõnade paar teineteisest kuni viie sõna kaugusel.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>termMat <span class="ot">&lt;-</span> <span class="fu">fcm</span>(sõned, <span class="at">context =</span> <span class="st">'window'</span>, <span class="at">window =</span> <span class="dv">5</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>termMat</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Feature co-occurrence matrix of: 18,498 by 18,498 features.
                    features
features             terve pere mõistus eesti isamaa res publica liidu
  terve                  8    7       5    25      2   2       1     1
  pere                   0    0       1     6      1   0       0     0
  mõistus                0    0       0     1      1   1       1     0
  eesti                  0    0       0   224      5   4       4     5
  isamaa                 0    0       0     0      0  10      10     7
  res                    0    0       0     0      0   0      10     7
  publica                0    0       0     0      0   0       0     7
  liidu                  0    0       0     0      0   0       0     4
  valitsemisprogramm     0    0       0     0      0   0       0     0
  valitsusele            0    0       0     0      0   0       0     0
                    features
features             valitsemisprogramm valitsusele
  terve                               0           0
  pere                                0           0
  mõistus                             0           0
  eesti                               2           1
  isamaa                              2           0
  res                                 2           1
  publica                             2           1
  liidu                               2           1
  valitsemisprogramm                  0           1
  valitsusele                         0           0
[ reached max_feat ... 18,488 more features, reached max_nfeat ... 18,488 more features ]</code></pre>
</div>
</div>
<p>Argumendi <code>context = 'document'</code> korral näitavad saadud sagedused, kui mitmes dokumendis esineb vastav sõnade paar korraga.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>termMat <span class="ot">&lt;-</span> <span class="fu">fcm</span>(sõned, <span class="at">context =</span> <span class="st">'document'</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>termMat</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Feature co-occurrence matrix of: 18,498 by 18,498 features.
                    features
features             terve pere mõistus eesti isamaa res publica liidu
  terve                129  137      48  3183     40  40      40    55
  pere                   0   36      21  2896     30  30      30    41
  mõistus                0    0       3   330      6   6       6     9
  eesti                  0    0       0 61126    818 818     818  1147
  isamaa                 0    0       0     0     22  54      54    37
  res                    0    0       0     0      0  22      54    37
  publica                0    0       0     0      0   0      22    37
  liidu                  0    0       0     0      0   0       0    13
  valitsemisprogramm     0    0       0     0      0   0       0     0
  valitsusele            0    0       0     0      0   0       0     0
                    features
features             valitsemisprogramm valitsusele
  terve                              17          19
  pere                                9           9
  mõistus                             3           3
  eesti                             184         219
  isamaa                              9           2
  res                                 9           2
  publica                             9           2
  liidu                               7           3
  valitsemisprogramm                  0           1
  valitsusele                         0           0
[ reached max_feat ... 18,488 more features, reached max_nfeat ... 18,488 more features ]</code></pre>
</div>
</div>
</section>
<section id="sõnade-sagedused" class="level2" data-number="30.4">
<h2 data-number="30.4" class="anchored" data-anchor-id="sõnade-sagedused"><span class="header-section-number">30.4</span> Sõnade sagedused</h2>
<p>Kõige lihtsam viis dokumentide kirjeldamiseks on lugeda kokku sõnad. Alustuseks võime võrrelda dokumente kõikide sõnade, kordumatute sõnade (<em>type</em>) ja ka lausete arvu alusel.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ntoken</span>(korpus) <span class="co"># Sõnade arv kokku</span></span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      irl 2007       irl 2011      kesk 2007      kesk 2011 rahvaliit 2007 
          8085           6012           5746           6519           1982 
rahvaliit 2011    reform 2007    reform 2011      rohe 2007      rohe 2011 
          3478           8789          15171           3038           5993 
      sde 2007       sde 2011 
         13316           9915 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ntype</span>(korpus) <span class="co"># Kordumatute sõnade arv</span></span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      irl 2007       irl 2011      kesk 2007      kesk 2011 rahvaliit 2007 
          3718           2916           2661           2824           1151 
rahvaliit 2011    reform 2007    reform 2011      rohe 2007      rohe 2011 
          1878           3754           6036           1670           2899 
      sde 2007       sde 2011 
          4540           4426 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nsentence</span>(korpus) <span class="co"># Lausete arv</span></span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      irl 2007       irl 2011      kesk 2007      kesk 2011 rahvaliit 2007 
           786            546            477            659            102 
rahvaliit 2011    reform 2007    reform 2011      rohe 2007      rohe 2011 
           205            326           1100             98            447 
      sde 2007       sde 2011 
           684            347 </code></pre>
</div>
</div>
<p>Ülevaate tekstide sisust annavad <strong>sõnade sagedused</strong> (<em>bag-of-words</em>, <em>word frequencies</em>), mis näitavad lihtsalt kui mitu korda sõna esineb. Kõige sagedamini esinevad sõnad annavad lihtsa ülevaate korpuse sisust.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>sage <span class="ot">&lt;-</span> <span class="fu">textstat_frequency</span>(dokMat, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>sage</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          feature frequency rank docfreq group
1           eesti      1001    1      12   all
2         toetame       340    2      12   all
3           riigi       296    3      12   all
4          tagame       170    4      11   all
5            riik       158    5      11   all
6           loome       139    6      12   all
7             aeg       129    7       6   all
8        inimeste       129    7      12   all
9  reformierakond       126    9       2   all
10  euroopa_liidu       122   10      12   all</code></pre>
</div>
</div>
<p>Neid sagedusi saame samuti uurida mingi korpuses esineva igat dokumenti esindava tunnuse lõikes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>sageDok <span class="ot">&lt;-</span> <span class="fu">textstat_frequency</span>(dokMat, <span class="at">groups =</span> korpus<span class="sc">$</span>erakond, <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>sageDok</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          feature frequency rank docfreq     group
1           eesti       184    1       2       irl
2         toetame        83    2       2       irl
3           riigi        49    3       2       irl
4           eesti       128    1       2      kesk
5         toetame        48    2       2      kesk
6           riigi        47    3       2      kesk
7       rahvaliit       104    1       2 rahvaliit
8           eesti        65    2       2 rahvaliit
9            riik        22    3       2 rahvaliit
10          eesti       356    1       2    reform
11 reformierakond       126    2       2    reform
12          riigi        82    3       2    reform
13            aeg       119    1       1      rohe
14          eesti        75    2       2      rohe
15        soovime        24    3       2      rohe
16          eesti       193    1       2       sde
17        toetame       128    2       2       sde
18          riigi        79    3       2       sde</code></pre>
</div>
</div>
<p>Sõnade sagedusi kujutatakse sageli <strong>sõnapilvena</strong> (<em>word cloud</em>). Sõnapilve suuruse saame määrata nt argumentidega <code>min_count</code> või <code>max_words</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(dokMat, <span class="at">min_size =</span> <span class="dv">1</span>, <span class="at">max_words =</span> <span class="dv">100</span>)</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tekstikaeve_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Ka sõnapilvel saame esitada sagedused mingi tunnuse kuni kaheksa rühma võrdluses. Kui sama sõna esineb enam kui kahes rühmas, siis määratakse selle värv rühma järgi, milles see sõna kõige sagedasem on.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>dokMatErak <span class="ot">&lt;-</span> <span class="fu">dfm_group</span>(dokMat, <span class="at">groups =</span> korpus<span class="sc">$</span>erakond)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_wordcloud</span>(dokMatErak, <span class="at">min_size =</span> <span class="dv">1</span>, <span class="at">max_words =</span> <span class="dv">50</span>, <span class="at">comparison =</span> <span class="cn">TRUE</span>)</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tekstikaeve_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Saame valitud sõnade esinemist kujutada ka asukoha järgi tekstis, uurides sõnade konteksti (<em>keyword in context</em>, <em>kwic</em>). Kontekst on antud juhul dokumendid.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_xray</span>(<span class="fu">kwic</span>(sõned, <span class="at">pattern =</span> <span class="st">"Eesti"</span>))</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tekstikaeve_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="sõnasus" class="level2" data-number="30.5">
<h2 data-number="30.5" class="anchored" data-anchor-id="sõnasus"><span class="header-section-number">30.5</span> Sõnasus</h2>
<p>Konkreetseid dokumente saame temaatiliselt iseloomustada selle alusel, kuidas need erinevad sõnade esinemise poolest teistest dokumentidest. Seda erinemist võib nimetada <strong>sõnasuseks</strong> (<em>keyness</em>). Sõnasuse arvutamisel leitakse valitud mõõdiku alusel, millised sõnad esinevad valitud dokumendis sagedamini ja harvemini kui teistes dokumentides. Mõõdiku saame määrata argumendiga <code>measure</code> ja dokumendi määrada argumendi <code>target</code> abil. Tulemuse võime kuvada tulpjoonisel, määrates esitatavate sõnade arvu (<code>n</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>sõnasus <span class="ot">&lt;-</span>  <span class="fu">textstat_keyness</span>(dokMat, <span class="at">target =</span> <span class="st">'rohe 2007'</span>, <span class="at">measure =</span> <span class="st">'chi2'</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_keyness</span>(sõnasus, <span class="at">n =</span> <span class="dv">10</span>)</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tekstikaeve_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="tf-idf" class="level2" data-number="30.6">
<h2 data-number="30.6" class="anchored" data-anchor-id="tf-idf"><span class="header-section-number">30.6</span> TF-IDF</h2>
<p>Lisaks sõnasusele hinnatakse sagli dokumendis esineva sõna tähtsust igas dokumendis. Seda esindavat mõõdikut nimetatakse lühendiga <strong>tf-idf</strong> (<em>term frequency - inverse document frequency</em>). See arvutatakse ühe termini <span class="math inline">\(t\)</span> suhtelise sageduse ja dokumendi pöördsageduse korrutis.</p>
<p><span class="math display">\[\text{tf-idf} (t) = \text{tf} (t) \times \text{idf} (t),\]</span></p>
<p>kus suhteline sõnade sagedus (<em>term frequency</em>) on sõna osakaal kõikidest sõnadest dokumendis:</p>
<p><span class="math display">\[\text{tf} (t) = \frac{\text{termini t sagedus dokumendis}}{\text{kõikide sõnade arv dokumendis}}\]</span></p>
<p>ja dokumendi pöördsagedus (<em>inverse document frequency</em>) on sõna tähtsus terves korpuses:</p>
<p><span class="math display">\[\text{idf} (t) = ln \frac{\text{dokumentide arv}}{\text{terminit t sisaldavate dokumentide arv}}.\]</span></p>
<p>Mõõdiku väärtus on seda kõrgem, mida sagedamini esineb termin dokumendis, aga mida harvemini teistes dokumentides. Mõni tavaline sõna võib olla küll dokumendis sage, aga kui see on sage ka teistes dokumentides, siis ei iseloomusta see sõna hästi just vaatlusalust dokumenti. Selleks on vajalik, et see sõna teistes dokumentides sage ei oleks. Niisiis näitab tf-idf sõna tähtsust dokumendi kontekstis, arvestades sealjuures ka sõna üldist tähtsust.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>tfidf <span class="ot">&lt;-</span> <span class="fu">dfm_tfidf</span>(dokMat)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>tfidf</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Document-feature matrix of: 12 documents, 18,498 features (84.91% sparse) and 2 docvars.
                features
docs                 terve      pere  mõistus eesti  isamaa     res publica
  irl 2007       3.7453313 0.5542687 3.237544     0 1.20412 1.20412 1.20412
  irl 2011       0.2340832 0.1583625 0            0 4.21442 4.21442 4.21442
  kesk 2007      0.2340832 0.2375437 0            0 0       0       0      
  kesk 2011      0.2340832 0.1583625 0            0 0.60206 0.60206 0.60206
  rahvaliit 2007 0         0         0            0 0       0       0      
  rahvaliit 2011 0         0.1583625 0            0 0       0       0      
                features
docs                liidu valitsemisprogramm valitsusele
  irl 2007       1.140634          0.7781513   0.7781513
  irl 2011       1.520845          0.7781513   0        
  kesk 2007      0                 0           0        
  kesk 2011      1.140634          0           0        
  rahvaliit 2007 0                 0           0        
  rahvaliit 2011 0                 0           0        
[ reached max_ndoc ... 6 more documents, reached max_nfeat ... 18,488 more features ]</code></pre>
</div>
</div>
</section>
<section id="sõnade-võrgustik" class="level2" data-number="30.7">
<h2 data-number="30.7" class="anchored" data-anchor-id="sõnade-võrgustik"><span class="header-section-number">30.7</span> Sõnade võrgustik</h2>
<p>Seosed sõnade vahel tulevad kõige ilmekamalt esile võrgustikjoonisel. Et kuvatud sõnade arv ei oleks liiga suur ja joonis seega liiga kirju, peaksime esmalt tegema sõnade seast valiku. Kohane on valida nt kõige sagedasemad sõnad. Seda saame teha taaskord funktsiooniga <code>topfeatures()</code>, mille tulemuseks saadud sageduste nimetused saame valida terminite maatriksist funktsiooniga <code>fcm_select()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>sagedased <span class="ot">&lt;-</span> <span class="fu">fcm_select</span>(termMat, <span class="fu">names</span>(<span class="fu">topfeatures</span>(dokMat, <span class="dv">20</span>)))</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Seejärel saame vähendatud terminite maatriksis esinevad seosed kujutada võrgustikuna funktsiooni <code>textplot_network()</code> abil. Nii joonistatud võrgustikul on näitavad jooned sõnade vahel nende koos esinemisi vastavalt sellele, kuidas see on määratud terminite maatriksis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">textplot_network</span>(sagedased, <span class="at">min_freq =</span> .<span class="dv">5</span>, <span class="at">edge_alpha =</span> <span class="fl">0.2</span>, <span class="at">edge_size =</span> <span class="dv">2</span>)</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tekstikaeve_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="klasterdamine" class="level2" data-number="30.8">
<h2 data-number="30.8" class="anchored" data-anchor-id="klasterdamine"><span class="header-section-number">30.8</span> Klasterdamine</h2>
<p>Mõnikord võib olla vajalik dokumentide rühmitamine. Selleks saame kasuada hierarhilist klasterdamist. Dokumentide vahelised paariviisilised kaugused saame arvutada nt sõnade sageduste alusel, millisel juhul on samu sõnu sama sagedasti kasutavad dokumendid on üksteisele lähedal. Dokumendi termine maatriksi alusel saame dokumentide läheduse leida funktsiooniga <code>textstat_dist()</code>. Leitud kauguste alusel saame arvutada ja joonistada klastripuu nii nagu iga teise kauguste maatriksi alusel.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>kaugused <span class="ot">&lt;-</span> <span class="fu">textstat_dist</span>(dokMat) <span class="sc">%&gt;%</span> as.dist</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>puu <span class="ot">&lt;-</span> <span class="fu">hclust</span>(kaugused, <span class="at">method =</span> <span class="st">'ward.D2'</span>) <span class="sc">%&gt;%</span> as.dendrogram</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(puu, <span class="at">type =</span> <span class="st">'triangle'</span>)</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tekstikaeve_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="keelekasutus" class="level2" data-number="30.9">
<h2 data-number="30.9" class="anchored" data-anchor-id="keelekasutus"><span class="header-section-number">30.9</span> Keelekasutus</h2>
<p>Keelekasutust dokumentides saab mõõta mitmest küljest. Dokumendi <strong>loetavust</strong> saame hinnata tähemärkide, kõikide sõnade, keeruliste sõnade, silpide ja lausete arvu ja pikkuse ning nende omavaheliste suhete alusel. Võimalusi nende tegurite kombineerimiseks on väga palju, aga eestikeelsete tekstide korral on sobilik kasutada mõõdikuid, mis ei võta aluseks sõnade tähendusi ega silpide arvu. Võime võrrelda tekste näiteks keskmise lause pikkuse alusel sõnades.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>loetavus <span class="ot">&lt;-</span> <span class="fu">textstat_readability</span>(korpus, <span class="at">measure =</span> <span class="st">'meanSentenceLength'</span>)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>loetavus</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         document meanSentenceLength
1        irl 2007           8.764631
2        irl 2011           9.463370
3       kesk 2007          10.136842
4       kesk 2011           7.884146
5  rahvaliit 2007          17.382353
6  rahvaliit 2011          14.731707
7     reform 2007          23.042945
8     reform 2011          11.973636
9       rohe 2007          27.459184
10      rohe 2011          11.646532
11       sde 2007          12.226608
12       sde 2011          25.066282</code></pre>
</div>
</div>
<p><strong>Keelelise mitmekesisuse</strong> mõõtmiseks on samuti suur valik mõõdikuid, millest paljud lähtuvad ühel või teisel viisil kõikide sõnade ja kordumatute sõnade suhtest. Neist võib-olla kõige lihtsam TTR (<em>type-token ratio</em>) on lihtsalt kordumatute sõnade ja kõikide sõnade arvu suhe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>mitmekesisus <span class="ot">&lt;-</span> <span class="fu">textstat_lexdiv</span>(dokMat, <span class="at">measure =</span> <span class="st">'TTR'</span>)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>mitmekesisus</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         document       TTR
1        irl 2007 0.6450031
2        irl 2011 0.6629275
3       kesk 2007 0.6640580
4       kesk 2011 0.6580842
5  rahvaliit 2007 0.7208084
6  rahvaliit 2011 0.7207965
7     reform 2007 0.6007605
8     reform 2011 0.5466023
9       rohe 2007 0.7639979
10      rohe 2011 0.7115600
11       sde 2007 0.6466465
12       sde 2011 0.6174171</code></pre>
</div>
</div>
<p>Saadud mõõdiku väärtuste alusel saame teha kokkuvõtteid ka dokumentidega seotud tunnuste lõikes. Nt võime leida iga erakonna programmide keskmise keelelise mitmekesisuse.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">aggregate</span>(mitmekesisus<span class="sc">$</span>TTR, <span class="fu">list</span>(korpus<span class="sc">$</span>erakond), mean)</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Group.1         x
1       irl 0.6539653
2      kesk 0.6610711
3 rahvaliit 0.7208024
4    reform 0.5736814
5      rohe 0.7377790
6       sde 0.6320318</code></pre>
</div>
</div>
<p>Lisaks keerukusele on levinud ka <strong>meelestatuse</strong> (<em>sentiment</em>) analüüs. Selle käigus määratakse igale sõnale, kas see väljendab negatiivset või positiivset emotsiooni. Selle määratluse alusel saame hinnata iga dokumendile meelestatuse. See protseduur on arusaadaval põhjusel väga levinud nt sotsiaalmeedia sõnumite uurimisel. Paraku ei ole eesti keele korpuse kohta veel olemas sõnastikku, milles oleks määratud iga sõna meelsus. Seetõttu antud dokumentides me meelestatust uurida ei saa.</p>
</section>
<section id="teemad" class="level2" data-number="30.10">
<h2 data-number="30.10" class="anchored" data-anchor-id="teemad"><span class="header-section-number">30.10</span> Teemad</h2>
<p>Keerulisemad tekstikaeve protseduurid võimaldavad luua teemade mudeleid (<em>topic models</em>). Üks selline protseduur on LDA (<em>Latent Dirichlet Allocation</em>). See võimaldab dokumendi-termini maatriksist leida ette antud arvul teemadega seotud märksõnad ja määrata igale dokumendile kõige sobivama teema, mida need märksõnad esindavad. Teemade paremaks eristamiseks on mõistlik kasutada TF-IDF maatriksit.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'seededlda'</span>)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>teemad <span class="ot">&lt;-</span> <span class="fu">textmodel_lda</span>(tfidf, <span class="at">k =</span> <span class="dv">6</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">terms</span>(teemad)</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      topic1                 topic2        topic3                      
 [1,] "rahvaliit"            "aeg"         "sde"                       
 [2,] "sotsiaaldemokraatide" "irl"         "sotsidest"                 
 [3,] "rahvaliidu"           "irli"        "visioon"                   
 [4,] "sotsiaaldemokraadid"  "eli"         "ca"                        
 [5,] "vajame"               "koduomanike" "aasta_riigikogu_valimistel"
 [6,] "kultuuriruumi"        "isamaa"      "tänane"                    
 [7,] "loodusvaradest"       "res"         "maavolikogu"               
 [8,] "taotleme"             "publica"     "keskerakond"               
 [9,] "kr"                   "rohelised"   "olukord"                   
[10,] "piirkondade"          "elurikkuse"  "üksuste"                   
      topic4              topic5        topic6              
 [1,] "reformierakond"    "saavutasime" "reformierakond"    
 [2,] "reformierakonna"   "2003-2007"   "reformierakonna"   
 [3,] "eelarvevõimaluste" "suurendarne" "programmiettepanek"
 [4,] "tekkel"            "õnne"        "üldkoosolekule"    
 [5,] "soovib"            "kroonini"    "toetab"            
 [6,] "muuhulgas"         "tegevuskava" "viib"              
 [7,] "struktuurseid"     "2007-2011"   "soovime"           
 [8,] "lähtuvad"          "tõstsime"    "eli"               
 [9,] "jätkame"           "nt"          "jätkab"            
[10,] "põhimõtetest"      "festival"    "kavandab"          </code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">topics</span>(teemad)</span></code><button title="Kopeeri lõikelauale" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      irl 2007       irl 2011      kesk 2007      kesk 2011 rahvaliit 2007 
        topic5         topic2         topic5         topic3         topic1 
rahvaliit 2011    reform 2007    reform 2011      rohe 2007      rohe 2011 
        topic1         topic6         topic4         topic6         topic2 
      sde 2007       sde 2011 
        topic1         topic3 
Levels: topic1 topic2 topic3 topic4 topic5 topic6</code></pre>
</div>
</div>


</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopeeritud!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./faktoranalüüs.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Faktoranalüüs</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./maakaardid.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Maakaardid</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>